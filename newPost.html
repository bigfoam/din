<!DOCTYPE HTML>
<html>
<head>
	<meta charset="UTF-8">
	<link rel="apple-touch-icon" sizes="57x57" href="images/icon/apple-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="60x60" href="images/icon/apple-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="72x72" href="images/icon/apple-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="images/icon/apple-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="images/icon/apple-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="120x120" href="images/icon/apple-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="144x144" href="images/icon/apple-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="images/icon/apple-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="images/icon/apple-icon-180x180.png">
	<link rel="icon" type="image/png" sizes="192x192"  href="images/icon/android-icon-192x192.png">
	<link rel="icon" type="image/png" sizes="32x32" href="images/icon/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="96x96" href="images/icon/favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="16x16" href="images/icon/favicon-16x16.png">
	<link rel="manifest" href="images/icon/manifest.json">
	<meta name="msapplication-TileColor" content="#ffffff">
	<meta name="msapplication-TileImage" content="images/icon/ms-icon-144x144.png">
	<meta name="theme-color" content="#ffffff">

	
	<title>Dinneract | Dashboard</title>
	
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"/>
	<link rel="stylesheet" type="text/css" href="css/jquery.tagsinput.min.css"/>
	<link rel="stylesheet" type="text/css" href="css/style.css"/>
	<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open+Sans"/>
	<link rel="stylesheet" type="text/css" href="css/font-awesome-4.3.0/css/font-awesome.min.css"/>
	
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/bootstrap-list-filter.min.js"></script>
	<script type="text/javascript" src="js/jquery.tagsinput.min.js"></script>

	<script type="text/javascript" src="js/move-top.js"></script>
	<script type="text/javascript" src="js/easing.js"></script>
	
	<!-- Cloudinary file upload -->
	<script type="text/javascript" src="js/cloudinary/jquery.ui.widget.js"></script>
	<script type="text/javascript" src="js/cloudinary/jquery.iframe-transport.js"></script>
	<script type="text/javascript" src="js/cloudinary/jquery.fileupload.js"></script>
	<script type="text/javascript" src="js/cloudinary/jquery.cloudinary.js"></script>
	
	<style>
		.display img {
			float: left;
		}
		.display .remove {
			float: left;
			margin-right:5px;			
		}
	</style>
</head>
<body>
<!---start-wrap---->
	<!---start-header---->
	<div class="header">
	<div class="wrap">
		<div class="logo">
			<a href="index.html"><img src="images/comp_logo.png"/></a>
		</div>
		<div class="head-nav">
			<ul>
				<li class="active"><a href="index.html#home" class="scroll">Home</a></li>
				<li><a class="scroll">Sign out</a></li>
				
			</ul>
		</div>
		<div class="clear"> </div>
	</div>
	<!---//End-header---->
	</div>
	
	<!---start-image-banner---->
	<div class="dash">
		<div class="navbar">
			<ul class="menu">
				<li class="fixed">
					<a>
						<span class="text">User Dashboard</span>
					</a>
				</li>
				<li id="myPosts">
					<a href="myPosts.html">
						<i class="fa fa-files-o fw"></i>
						<span class="text">My Posts</span>
					</a>
				</li>
				<li id="myElements">
					<a href="myElements.html">
						<i class="fa fa-tags"></i>
						<span class="text">My Products</span>
					</a>
				</li>
				<li id="newPost" class="active">
					<a>
						<i class="fa fa-pencil-square-o fw"></i>
						<span class="text">New Post</span>
					</a>
				</li>
				<li id="newElement">
					<a href="newElement.html" >
						<i class="fa fa-pencil-square-o"></i>
						<span class="text">New Product</span>
					</a>
				</li>
				<li id="profile">
					<a href="profile.html">
						<i class="fa fa-user"></i>
						<span class="text">Vendor Profile</span>
					</a>
				</li>
			</ul>

		</div>
		<div class="content">
			
			<form id="postForm">
				<div role="tabpanel">
					<!-- Nav tabs -->
					<ul class="nav nav-tabs" role="tablist" id="postTab">
						<li role="presentation" class="active">
							<a href="#post_basic" aria-controls="post_basic" title="postTab" role="tab" data-toggle="tab">Basic Info</a>
						</li>
						<li role="presentation">
							<a href="#post_steps" aria-controls="post_steps" title="postTab" role="tab" data-toggle="tab">Cooking Steps</a>
						</li>
						<li role="presentation">
							<a href="#post_elements" aria-controls="post_elements" title="postTab" role="tab" data-toggle="tab">Element List</a>
						</li>
						<li role="presentation">
							<a href="#post_catags" aria-controls="post_catags" title="postTab" role="tab" data-toggle="tab">Categories &amp; tags</a>
						</li>
					</ul>
					<!-- Tab panes -->
					<div class="tab-content">
						<div role="tabpanel" class="tab-pane fade in active form-horizontal col-sm-11" id="post_basic">
							<div class="form-group">
							    <label class="col-sm-3 control-label">Title</label>
							    <div class="col-sm-7">
							    	<input type="text" class="form-control" name="title" placeholder="What's the name of this special food ?">
							    </div>
							</div>
							
							<div class="form-group">
							    <label class="col-sm-3 control-label">Photo</label>
							    <div class="col-sm-7">
							    	<input id="photo_upload" class="cloudinary_fileupload" type="file" name="file">
							    </div>
							</div>
							<div class="form-group">
								<div class="col-sm-3"></div>
							    <label class="col-sm-7 control-label" style="color: red; font-size: 13px; font-weight: 800; text-align: left;">
							    	Please first resize to 9:16 (w:h, max width 1080px, max height 1920px)
							    </label>
							</div>
							<div class="form-group">
								<div class="col-sm-3"></div>
							    <div class="col-sm-7" id="photo_display">
		
							    </div>
							</div>
							
							
							<hr/>
							<div class="form-group">
							    <label class="col-sm-3 control-label">Vendor Name</label>
							    <div class="col-sm-7">
							    	<input type="text" class="form-control" name="vendor_name" placeholder="Who is using this post to promote product ?" required/>
							    </div>
							</div>
							<hr/>
							
							
							<div class="form-group">
							    <label class="col-sm-3 control-label">Credit to (optional)</label>
							    <div class="col-sm-7">
							    	<input type="text" class="form-control" name="creditTo" placeholder="Credit to someone or a association">
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-sm-3 control-label">Credit URL (optional)</label>
							    <div class="col-sm-7">
							    	<input type="text" class="form-control" name="creditURL" placeholder="The web link to credit to">
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-sm-3 control-label">Original URL (optional)</label>
							    <div class="col-sm-7">
							    	<input type="text" class="form-control" name="url" placeholder="The web link that the post is copied from">
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-sm-3 control-label">Serving (optional)</label>
							    <div class="col-sm-7">
							    	<input type="text" class="form-control" name="serving" placeholder="e.g. 8 people, 4 slides, 2 cups etc.">
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-sm-3 control-label">Brief Intro (optional)</label>
							    <div class="col-sm-7">
							    	<textarea class="form-control" name="intro" placeholder="Tell customers about this food, why you like it, how special it is."></textarea>
							    </div>
							</div>
							<br/>
							<div class="form-group" style="text-align: right;">
							    <div class="col-sm-3"></div>
							    <div class="col-sm-7">
							    	<a class="btn btn-primary" href="#post_steps" title="postTab" data-toggle="tab">Next</a>
							    </div>
							</div>
						</div>
						
						<div role="tabpanel" class="tab-pane fade form-horizontal col-sm-11" id="post_steps">
							<div class="form-group">
							    <div class="col-sm-11" style="text-align: center; margin-bottom: 10px;">
							    	<h1>Cooking Time</h1>
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-sm-3 control-label">Prepare (Optional)</label>
							    <div class="col-sm-5">
							    	<input type="text" class="form-control" name="prepare_amount" placeholder="e.g. 10">
							    </div>
							    <div class="col-sm-2">
									<select class="form-control" name="prepare_unit">
										<option>second(s)</option>
										<option selected>minute(s)</option>
										<option>hour(s)</option>
										<option>day(s)</option>
									</select>
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-sm-3 control-label">Inactive (Optional)</label>
							    <div class="col-sm-5">
							    	<input type="text" class="form-control" name="inactive_amount" placeholder="e.g. 20">
							    </div>
							    <div class="col-sm-2">
									<select class="form-control" name="inactive_unit">
										<option>second(s)</option>
										<option selected>minute(s)</option>
										<option>hour(s)</option>
										<option>day(s)</option>
									</select>
							    </div>
							</div>
							<div class="form-group">
							     <label class="col-sm-3 control-label">Cook (Optional)</label>
							    <div class="col-sm-5">
							    	<input type="text" class="form-control" name="cook_amount" placeholder="e.g. 30">
							    </div>
							    <div class="col-sm-2">
									<select class="form-control" name="cook_unit">
										<option>second(s)</option>
										<option selected>minute(s)</option>
										<option>hour(s)</option>
										<option>day(s)</option>
									</select>
							    </div>
							</div>
							<br/>
							<div class="form-group">
							    <div class="col-sm-11" style="text-align: center; margin-bottom: 10px;">
							    	<h1>Cooking Steps</h1>
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-sm-3 control-label">
								    <span class="fa-stack">
										<i class="fa fa-circle fa-stack-2x step"></i>
										<strong class="fa-stack-1x">1</strong>
									</span>
								</label>
							    <div class="col-sm-7">
							    	<textarea class="form-control" name="step[]" placeholder="Add a cooking step, e.g. Mix the chicken and spices..."></textarea>
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-sm-3 control-label">
								    <span class="fa-stack">
										<i class="fa fa-circle fa-stack-2x step"></i>
										<strong class="fa-stack-1x">2</strong>
									</span>
								</label>
							    <div class="col-sm-7">
							    	<textarea class="form-control" name="step[]" placeholder="Add a cooking step"></textarea>
							    </div>
							    <div class="col-sm-1">
							    	<i class="fa fa-times remove" onclick="deletePostStep(2)"></i>
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-sm-3 control-label">
								    <span class="fa-stack">
										<i class="fa fa-circle fa-stack-2x step"></i>
										<strong class="fa-stack-1x">3</strong>
									</span>
								</label>
							    <div class="col-sm-7">
							    	<textarea class="form-control" name="step[]" placeholder="Add a cooking step"></textarea>
							    </div>
							    <div class="col-sm-1">
							    	<i class="fa fa-times remove" onclick="deletePostStep(3)"></i>
							    </div>
							</div>
							<div class="form-group" style="text-align: right;">
							    <div class="col-sm-3"></div>
							    <div class="col-sm-7">
							    	<a class="add" id="addPostStep">Add Another Step</a>
							    </div>
							</div>
							<br/>
							<div class="form-group" style="text-align: right;">
							    <div class="col-sm-3"></div>
							    <div class="col-sm-7">
							    	<a class="btn btn-primary" href="#post_basic" title="postTab" data-toggle="tab">Previous</a>&nbsp;
							    	<a class="btn btn-primary" href="#post_elements" title="postTab" data-toggle="tab">Next</a>
							    </div>
							</div>
						</div>
						
						<div role="tabpanel" class="tab-pane fade form-horizontal col-sm-11" id="post_elements">
							<div class="form-group">
							    <div class="col-sm-11" style="text-align: center; margin-bottom: 10px;">
							    	<h1>List of Elements</h1>
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-sm-2 control-label">
								    <span class="fa-stack">
										<i class="fa fa-circle fa-stack-2x step"></i>
										<strong class="fa-stack-1x">1</strong>
									</span>
								</label>
							    <div class="col-sm-1">
							    	<input type="text" class="form-control" name="element_amount_1" placeholder="e.g. 2" />
							    </div>
							    <div class="col-sm-1">
							    	<input type="text" class="form-control" name="element_unit_1" placeholder="e.g. lb" />
							    </div>
							    <div class="col-sm-4">
							    	<div class="input-group add-on">
								    	<input type="text" class="form-control" name="element_name_1" placeholder="e.g. chick breast" />
								    	<div class="input-group-btn">
									        <a class="btn btn-default bind" name="1">Add</a>
									        <input name="element_id_1" type="hidden" value="" />
									    </div>
								    </div>
							    </div>
							    <div class="col-sm-2">
							    	<input type="text" class="form-control" name="element_addi_1" placeholder="e.g. chopped" />
							    </div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label">
								    <span class="fa-stack">
										<i class="fa fa-circle fa-stack-2x step"></i>
										<strong class="fa-stack-1x">2</strong>
									</span>
								</label>
							    <div class="col-sm-1">
							    	<input type="text" class="form-control" name="element_amount_2" placeholder="amount" />
							    </div>
							    <div class="col-sm-1">
							    	<input type="text" class="form-control" name="element_unit_2" placeholder="unit" />
							    </div>
							    <div class="col-sm-4">
							    	<div class="input-group add-on">
								    	<input type="text" class="form-control" name="element_name_2" placeholder="element name" />
								    	<div class="input-group-btn">
									        <a class="btn btn-default bind" name="2">Add</a>
									        <input name="element_id_2" type="hidden" value="" />
									    </div>
								    </div>
							    </div>
							    <div class="col-sm-2">
							    	<input type="text" class="form-control" name="element_addi_2" placeholder="additional info">
							    </div>
							    <div class="col-sm-1">
							    	<i class="fa fa-times remove" onclick="deletePostElement(2)"></i>
							    </div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label">
								    <span class="fa-stack">
										<i class="fa fa-circle fa-stack-2x step"></i>
										<strong class="fa-stack-1x">3</strong>
									</span>
								</label>
							    <div class="col-sm-1">
							    	<input type="text" class="form-control" name="element_amount_3" placeholder="amount" />
							    </div>
							    <div class="col-sm-1">
							    	<input type="text" class="form-control" name="element_unit_3" placeholder="unit" />
							    </div>
							    <div class="col-sm-4">
							    	<div class="input-group add-on">
								    	<input type="text" class="form-control" name="element_name_3" placeholder="element name" />
								    	<div class="input-group-btn">
									        <a class="btn btn-default bind" name="3">Add</a>
									        <input name="element_id_3" type="hidden" value="" />
									    </div>
								    </div>
							    </div>
							    <div class="col-sm-2">
							    	<input type="text" class="form-control" name="element_addi_3" placeholder="additional info" />
							    </div>
							    <div class="col-sm-1">
							    	<i class="fa fa-times remove" onclick="deletePostElement(3)"></i>
							    </div>
							</div>
							<div class="form-group" style="text-align: right;">
							    <div class="col-sm-3"></div>
							    <div class="col-sm-7">
							    	<a class="add" id="addPostElement">Add Another Element</a>
							    </div>
							</div>
							<br/>
							<div class="form-group" style="text-align: right;">
							    <div class="col-sm-3"></div>
							    <div class="col-sm-7">
							    	<a class="btn btn-primary" href="#post_steps" title="postTab" data-toggle="tab">Previous</a>&nbsp;
							    	<a class="btn btn-primary" href="#post_catags" title="postTab" data-toggle="tab">Next</a>
							    </div>
							</div>
						</div>
						
						<div role="tabpanel" class="tab-pane fade form-horizontal col-sm-11" id="post_catags">
							<div class="form-group">
							    <div class="col-sm-11" style="text-align: center; margin-bottom: 10px;">
							    	<h1>Categories</h1>
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-sm-3 control-label">Dish Types</label>
							    <div class="col-sm-6">
							    	<select class="form-control" id="selectPostDish">
							    		<option>Dessert</option>
							    		<option>Entrees</option>
							    		<option>Side dishes</option>
							    		<option>Appetizers</option>
							    		<option>Breakfast/Brunch</option>
							    		<option>Vegetarian</option>
							    		<option>Vegan</option>
							    		<option>Beverages</option>
							    		<option>Salads</option>
										<option>Soup</option>
									</select>
							    </div>
							    <div class="col-sm-1">
							    	<a class="btn btn-primary" id="addPostDish">Add</a>
							    </div>
							    <br/><br/>
							    <div class="col-sm-3"></div>
							    <div class="col-sm-6">
							    	<input class="form-control" name="dishTypes" id="postDishTypes" value="" />
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-sm-3 control-label">Occasions</label>
							    <div class="col-sm-6">
							    	<select class="form-control" id="selectPostOccasion">
							    		<option>Christmas</option>
							    		<option>Thanksgiving</option>
							    		<option>New Year</option>
							    		<option>Game Day</option>
							    		<option>Halloween</option>
							    		<option>Valentine's Day</option>
							    		<option>Easter Day</option>
							    		<option>Birthday</option>
							    		<option>Wedding</option>
										<option>Party</option>
									</select>
							    </div>
							    <div class="col-sm-1">
							    	<a class="btn btn-primary" id="addPostOccasion">Add</a>
							    </div>
							    <br/><br/>
							    <div class="col-sm-3"></div>
							    <div class="col-sm-6">
							    	<input class="form-control" name="dishTypes" id="postOccasions" value="" />
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-sm-3 control-label">Specials</label>
							    <div class="col-sm-6">
							    	<select class="form-control" id="selectPostSpecial">
							    		<option>Gluten-free</option>
							    		<option>Dairy-free</option>
							    		<option>Sugar-free</option>
							    		<option>Nut-free</option>
							    		<option>Low Fat</option>
							    		<option>Low Calorie</option>
							    		<option>Diabetes Friendly</option>
							    		<option>Weight Loss</option>
							    		<option>Halaal</option>
									</select>
							    </div>
							    <div class="col-sm-1">
							    	<a class="btn btn-primary" id="addPostSpecial">Add</a>
							    </div>
							    <br/><br/>
							    <div class="col-sm-3"></div>
							    <div class="col-sm-6">
							    	<input class="form-control" name="dishTypes" id="postSpecials" value="" />
							    </div>
							</div>
							<div class="form-group">
							    <label class="col-sm-3 control-label">Origins</label>
							    <div class="col-sm-6">
							    	<select class="form-control" >
							    		<option value="">Dont't know</option>
							    		<option>Fusion</option>
							    		<option>British</option>
							    		<option>Chinese</option>
							    		<option>French</option>
							    		<option>Germany</option>
							    		<option>Indian</option>
							    		<option>Irish</option>
							    		<option>Italian</option>
							    		<option>Japanese</option>
							    		<option>Korean</option>
							    		<option>Mexican</option>
							    		<option>Middle East</option>
							    		<option>Spanish</option>
							    		<option>Russian</option>
							    	</select>
							    </div>
							</div>
							<br/>
							<div class="form-group">
							    <div class="col-sm-11" style="text-align: center; margin-bottom: 10px;">
							    	<h1>Tags</h1>
							    </div>
							</div>
							<div class="form-group">
							    <div class="col-sm-3"></div>
							    <div class="col-sm-6">
							    	<input class="form-control" name="tags" id="postTags" value="" />
							    </div>
							</div>
							<div class="form-group">
							    <div class="col-sm-3"></div>
							    <div class="col-sm-6">
							    	<span>Note*: click, type tag words and click/tap again to add a new tag</span>
							    </div>
							</div>
							<br/>
							<div class="form-group" style="text-align: right;">
							    <div class="col-sm-3"></div>
							    <div class="col-sm-6">
							    	<a class="btn btn-primary" href="#post_elements" title="postTab" data-toggle="tab">Previous</a>&nbsp;
							    	<button class="btn btn-success" type="submit">Submit</button>
							    </div>
							</div>
						</div>
					</div>
				</div>
			</form>	
			
					
		</div>
		<div class="clear"> </div>
	</div>
	<!---//End-image-banner---->
	
	<!---start-footer----->
	<div class="footer-dash">
		<div class="wrap">

				<div class="footer-left">
					<a href="index.html"><img src="images/comp_logo.png" alt="logo"/></a>
			  	</div>
				<div class="footer-center">
					<div class="cssmenu">
						<ul>
							<li><a href="#home">App</a></li> 
							<li><a href="mailto:service@dinneract.com">Contact</a></li>
							<!--support right now is not a popup -->
							<!-- <li><a href="#contact">Support</a></li> -->
							<li><a href="#terms" data-toggle="modal" data-backdrop="static">Terms</a></li> 
							<li><a href="#privacy" data-toggle="modal" data-backdrop="static">Privacy</a></li> 
				   		</ul>
					</div>
				</div>
			   	<div class="footer-right">
						<ul class="list-inline social-buttons">
	                        <li>
	                        	<a href="https://twitter.com/DinneractInc" target="_blank" class="tw">
	                        		<i class="fa fa-twitter" title="Twitter"></i>
	                        	</a>
	                        </li>
	                        <li>
	                        	<a href="https://www.facebook.com/dinneract" target="_blank" class="fb">
	                        		<i class="fa fa-facebook" title="Facebook"></i>
	                        	</a>
	                        </li>
	                        <li>
	                        	<a href="https://www.pinterest.com/dinneract/" target="_blank" class="pin">
	                        		<i class="fa fa-pinterest-p" title="Pinterest"></i>
	                        	</a>
	                        </li>
	                        <li>
	                        	<a href="https://instagram.com/dinneract/" target="_blank" class="inst">
	                        		<i class="fa fa-instagram" title="Instagram"></i>
	                        	</a>
	                        </li>
	                        <!--<li>
	                        	<a href="https://plus.google.com/u/3/107570138513629378277/posts" target="_blank" class="gplus">
	                        		<i class="fa fa-google-plus" title="Google+"></i>
	                        	</a>
	                        </li>-->
	                    </ul>
			 	</div>
	         	<div class="clear"></div>

        	<a href="#" id="toTop" style="display: block;"><span id="toTopHover" style="opacity: 1;"></span></a>
		</div>
		<!---//End-wrap---->
	</div>
	<!---//End-footer----->
	<div class="copy copy-dash">
		<p>&copy; 2014-2015 <a href="index.html"> Dinneract</a></p>
	</div>
	
	
	<!-- Modal -->
	<div id="elementSearch" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	        <h4 class="modal-title">Product Search</h4>
	      </div>
	      <div class="modal-body">
			<form role="form">
			    <div class="form-group">
			        <input id="searchinput" class="form-control" type="search" placeholder="Search by product name..." />
			    </div>
			    <div id="searchlist" class="list-group"></div>
			</form>
	      </div>
	      <div class="modal-footer">
	        <a type="button" class="btn btn-default" data-dismiss="modal">Close</a>
	        <!-- <a type="button" class="btn bind">Bind</a> -->
	      </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div>
	<!-- End of Modal -->
	
	
	<!-- Modal -->
	<div id="terms" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	</div>
	<!-- End of Modal -->	
	
	
	<!-- Modal -->
	<div id="privacy" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	</div>
	<!-- End of Modal -->


	
	<script type="text/javascript">
		//global variables
		var stepNum = 3,
			elementNum = 3,
			currentElem = 0;
		
		//init
		var domain = "http://54.148.158.185:3000/",
			searchApiURL = domain + "elements?", //by vendor id
			submitApiURL = domain + "posts";
			
		$.cloudinary.config({ cloud_name: 'dinneract', api_key: '717677974257166' });
		
	
		//loading modals
		$("#privacy").load("inc/privacy.inc"); 
		$("#terms").load("inc/terms.inc"); 
		
		
		$('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
			var target = $(e.target).attr("href");
			var ulId = $(e.target).attr("title");
			
			$('#' + ulId + ' > li.active').removeClass('active');
    		$('#' + ulId + ' > li > a[href=' + target + ']').parent().addClass('active');
		})
		
		
		
		$(document).ready(function() {
			
			$('#postTab a:first').tab('show');
			
			//Post basic
			$('#photo_upload').unsigned_cloudinary_upload("eg0wnfhq", 
				{ cloud_name: 'dinneract', tags: 'post' }
			).bind('cloudinarydone', function(e, data) {
				$('#photo_display').html(
					"<div class='display'>" +
						"<img height='320' src='" + data.result.url + "'/>" +
						"<i class='fa fa-times remove'></i>" +
					"</div>"
				);
				
				/*
				$("div.display i.remove").on("click", function() {
					//console.log($(this).parent().attr("class"));
					$(this).parent().remove();
				});
				*/
			});
			
			$(document).on('click', 'div.display i.remove', function() {
				//console.log($(this).parent().attr("class"));
				$(this).parent().remove();
			});
			
			
			//Post steps
			$("#addPostStep").click(function() {
				addPostStep();
			});
			
			//Post elements
			$("#addPostElement").click(function() {
				addPostElement();
			});
			
			//not working for dynamic elements
			//$("#post_elements a.bind").click(function() {
			$( '#post_elements' ).on( 'click', 'a.bind', function() {
				currentElem = $(this).attr("name");
				$('#elementSearch').modal("show");
			});
			
			//Post categories & tags
			$('#postDishTypes').tagsInput({
				'interactive': false,
   				'defaultText': '',
   				'height':'40px',
				'width':'100%'
			});
			$('#postOccasions').tagsInput({
				'interactive': false,
   				'defaultText': '',
   				'height':'40px',
				'width':'100%'
			});
			$('#postSpecials').tagsInput({
				'interactive': false,
   				'defaultText': '',
   				'height':'40px',
				'width':'100%'
			});
			$('#postTags').tagsInput({
   				'defaultText':'add a tag',
   				'height':'120px',
				'width':'100%'
			});
			
			$("#addPostDish").click(function() {
				if ( !$('#postDishTypes').tagExist( $('#selectPostDish').val() ) ) {
					$('#postDishTypes').addTag( $('#selectPostDish').val() );
				}
			});
			
			$("#addPostOccasion").click(function() {
				if ( !$('#postOccasions').tagExist( $('#selectPostOccasion').val() ) ) {
					$('#postOccasions').addTag( $('#selectPostOccasion').val() );
				}
			});
			
			$("#addPostSpecial").click(function() {
				if ( !$('#postSpecials').tagExist( $('#selectPostSpecial').val() ) ) {
					$('#postSpecials').addTag( $('#selectPostSpecial').val() );
				}
			});
			
			
			//---element search
			$('#elementSearch').on('shown.bs.modal', function () {
				if( $("#searchlist").html() == "" ) {
					
					$.ajax({
				   		type: "GET",
				        beforeSend: function (request) {
				        	// cookie should be generated by browser
				        	//document.cookie="connect.sid=xxxx";
				        },
				        url: searchApiURL,
				        cache: false,
						crossDomain: true,
						dataType: 'json',
						// cannot have credential
						//xhrFields: { withCredentials: true},
				        success: (function(myElements) {
				        	
				        	var elements = "";
				        	$.each( myElements, function( i, element ) {
				        		elements += "<a class=\"list-group-item elemSearchTab\" name=\"" + element._id + "\" title=\"click to add\"><span>" + element.name + "</span></a>";
				        	});
				        	
				        	$("#searchlist").html( elements );
				        	$('#searchlist').btsListFilter( '#searchinput', {itemChild: 'span'} );
				        	
				        	$('.elemSearchTab').click(function(){
								//set binded element id
								$("input[name=element_id_" + currentElem + "]").val( $(this).attr("name") );
								$("input[name=element_name_" + currentElem + "]").val( $(this).find("span").html() );
								$('#elementSearch').modal("hide");
							});
				        	//$('#searchinput').focus();
				        })
				    });
				}
			});
			
			
			
			
			//submit
			$('#postForm').submit(function(e) {
				e.preventDefault();
				
				var json = new Object();
				
				//title
				json.title = "";
				if( $("input[name=title]").val().length < 8 ) {
					return alert("Error: Post title is less than 8 characters!");
				} else {
					json.title = $("input[name=title]").val();
				}
				
				//thumb
				json.photo = "";
				$("#photo_display").children("div.display").each(function () {
				    json.photo = $(this).find("img").attr("src");
				});
				
				
				//vendor --- tmp use
				json.vendor_name = "";
				if( $("input[name=vendor_name]").val().length < 1 ) {
					return alert("Error: please enter the vendor name of the product!");
				} else {
					json.vendor_name = $("input[name=vendor_name]").val();
				}
				
				
				//price
				json.price = new Object();
				if( !isIntOrFloat( $("input[name=price_amount]").val() ) ) {
					return alert("Error: please enter the price of the product!");
				} else {
					json.price.amount = $("input[name=price_amount]").val();
				}
				if( $("input[name=price_unit]").val().length < 1 ) {
					json.price.unit = "EACH";
				} else {
					json.price.unit = $("input[name=price_unit]").val();
				}
				
				
				
				
				//purchase url
				json.url = "";
				if( $("input[name=url]").val().length < 1 ) {
					return alert("Error: please enter the buy link of the product!");
				} else {
					json.url = $("input[name=url]").val();
				}
				
				//intro
				json.intro = "";
				if( $("textarea[name=intro]").val().length < 1 ) {
					return alert("Error: please enter the introduction of the product!");
				} else {
					json.intro = $("textarea[name=intro]").val();
				}
				
				//ingredients
				json.ingredients = "";
				if( $("textarea[name=ingredients]").val().length > 0 ) {
					json.ingredients = $("textarea[name=ingredients]").val();
				}
				
				//certificates
				json.certificates = [];
				$("textarea[name=certificates]").each(function() {
					if( $(this).val().length > 0 ) {
						json.certificates.push( $(this).val() );
					}
				});
				
				//category_1---------------------------
				json.category_1 = "";
				if( $("select[name=category_1]").val().length < 1 ) {
					return alert("Error: please select the level 1 category of the product!");
				} else {
					json.category_1 = $("select[name=category_1]").val();
				}
				
				
				//tags
				json.tags = [];
				if( $("input[name=tags]").val().length < 1 ) {
					return alert("Error: please enter at least one tag for the product!");
				} else {
					json.tags = $("input[name=tags]").val().split(",");
				}
				
			
				//submitForm( JSON.stringify(json) );
			});
			
			
			
		});//end of document.ready
		
		function addPostStep() {
			//1st step is the 6th child
			stepNum++;
				
			var newStep = "" + 
				"<div class=\"form-group\">" + 
					"<label class=\"col-sm-3 control-label\">" + 
						"<span class=\"fa-stack\">" + 
							"<i class=\"fa fa-circle fa-stack-2x step\"></i>" + 
							"<strong class=\"fa-stack-1x\">" + stepNum + "</strong>" +
						"</span>" + 
					"</label>" +
					"<div class=\"col-sm-7\">" + 
						"<textarea class=\"form-control\" name=\"step[]\" placeholder=\"Add a cooking step\"></textarea>" +
					"</div>" + 
					"<div class=\"col-sm-1\">" +
						"<i class=\"fa fa-times remove\" onclick=\"deletePostStep(" + stepNum + ")\"></i>" +
					"</div>" +
				"</div>";
				
			$("#post_steps > div.form-group:nth-child(" + (5+stepNum) + ")").after( newStep );
		}
		
		function deletePostStep(order) {
			//1st step is the 6th child
			var currentStep;
			$("#post_steps div.form-group:nth-child(" + (6+order) + ")").remove();
			stepNum--;
			for(var i=order; i<=stepNum; i++) {
				currentStep = $("#post_steps > div.form-group:nth-child(" + (i+6) + ")");
				currentStep.find("strong").html(i);
				currentStep.find("i.remove").attr("onclick", "deletePostStep("+i+")");
			}
		}
		
		function addPostElement() {
			//1st element is the 2th child
			elementNum++;
				
			var newElement = "" + 
							"<div class=\"form-group\">" +
								"<label class=\"col-sm-2 control-label\">" +
								    "<span class=\"fa-stack\">" +
										"<i class=\"fa fa-circle fa-stack-2x step\"></i>" +
										"<strong class=\"fa-stack-1x\">" + elementNum + "</strong>" +
									"</span>" +
								"</label>" +
							    "<div class=\"col-sm-1\">" +
							    	"<input type=\"text\" class=\"form-control\" name=\"element_amount_" + elementNum + "\" placeholder=\"amount\" />" +
							    "</div>" +
							    "<div class=\"col-sm-1\">" +
							    	"<input type=\"text\" class=\"form-control\" name=\"element_unit_" + elementNum + "\" placeholder=\"unit\" />" +
							    "</div>" +
							    "<div class=\"col-sm-4\">" +
							    	"<div class=\"input-group add-on\">" +
								    	"<input type=\"text\" class=\"form-control\" name=\"element_name_" + elementNum + "\" placeholder=\"element name\" />" +
								    	"<div class=\"input-group-btn\">" +
									        "<a class=\"btn btn-default bind\" name=\"" + elementNum + "\">Add</a>" +
									        "<input name=\"element_id_" + elementNum + "\" type=\"hidden\" value=\"\" />" +
									    "</div>" +
								    "</div>" +
							    "</div>" +
							    "<div class=\"col-sm-2\">" +
							    	"<input type=\"text\" class=\"form-control\" name=\"element_addi_" + elementNum + "\" placeholder=\"additional info\" />" +
							    "</div>" +
							    "<div class=\"col-sm-1\">" +
							    	"<i class=\"fa fa-times remove\" onclick=\"deletePostElement(" + elementNum + ")\"></i>" +
							    "</div>" +
							"</div>";
							
			$("#post_elements > div.form-group:nth-child(" + (elementNum) + ")").after( newElement );

		}
		
		function deletePostElement(order) {
			//1st element is the 2th child
			var currentElement;
			$("#post_elements div.form-group:nth-child(" + (1+order) + ")").remove();
			elementNum--;
			for(var i=order; i<=elementNum; i++) {
				currentElement = $("#post_elements > div.form-group:nth-child(" + (i+1) + ")");
				
				currentElement.find("strong").html(i);
				currentElement.find("i.remove").attr("onclick", "deletePostElement("+i+")");
				
				currentElement.find("input").filter(function() {
			    	return $(this).attr("name").match(/element_unit_.*/);
			    }).attr("name", "element_unit_"+i);
			    
			    currentElement.find("input").filter(function() {
			    	return $(this).attr("name").match(/element_amount_.*/);
			    }).attr("name", "element_amount_"+i);
			    
			    currentElement.find("input").filter(function() {
			    	return $(this).attr("name").match(/element_name_.*/);
			    }).attr("name", "element_name_"+i);
			    
			    currentElement.find("input").filter(function() {
			    	return $(this).attr("name").match(/element_addi_.*/);
			    }).attr("name", "element_addi_"+i);
			    
			    currentElement.find("input").filter(function() {
			    	return $(this).attr("name").match(/element_id_.*/);
			    }).attr("name", "element_id_"+i);
			    
			    currentElement.find("a.bind").attr("name", i);
			}
		}
	</script>
</body>
</html>